<!DOCTYPE html>
<html>
<head>
    <title>クラウドGPUの比較について</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF8">
</head>
<body>
<p>
    ステアラボでは、私たちはクラウドでGPUがついてるマシンを使うことがあります。数多くのオファーの性能とコストを比較するには私たちは複数のクラウドプロバイダーのウエブサイトから集めた情報を表にまとめ、いくつかインタラクティブグラフを作ってみました。<a href="http://comp.photo777.org/cloud-gpu-providers-comparison/" target="_blank">こちら</a>は各オファーの主なスペックと値段の表の他に、CPUとGPUの性能を比較するグラフ、使う時間によって変動するコストのグラフ、一定の使用期間あたりのコストの比較、CPUとGPUの1TFlopsあたりのコストを比較するグラフがあります。<a href="http://comp.photo777.org/cloud-gpu-providers-more-graphs/" target="_blank">こちら</a>は計算量を固定して、GPUで計算する時間とそれにかかるコストのグラフとCPU計算時間とコストでオファーを比較するための2つのグラフがあります。ある決まった量の計算をクラウドGPUかCPUでしたい場合は、時間を重視し高くても計算が速く終わる方を選ぶか、時間がかかっても安くなる方を選ぶかを考えるときにこのグラフは参考になります。
</p>
<p>
    クラウドGPUのオファーは今はたくさんありますが、振り替えてみれば、一年前はとても少なかったし、主に可視化向けのものでした。2016年の9月から機械学習用のクラウドGPUのインスタンス<a href="#note1"><sup>1</sup></a>の提供を始めたAWSに続いて、Softlayer (IBM)、 Nimbix、 MS Azure、 Google Compute Cloudなど、たくさんのプロバイダーから続々とたくさんのオファーが出ました。機械学習に主な用途を切り替えたため、GPUとCPUの性能も上がり、メモリーも増えまして：1000GBまでのインスタンスがあります。HDDもSSDが主流になりました。
</p>

<p>
    それぞれのインスタンスを比較するのは難しいです。GPUとCPUのモデル、メモリーとハードディスクの量、インターコネクトとインターネットの幅などのスペックが違います。コストももちろん変わりますし、課金期間も違います：分ごとに課金されるプランもあれば、年ごとに課金されるプランもあります。設定金があるプランもあり、使用できるノード時間が制限されるプランもあります。
</p>

<p>
    私たちは、前からAWSにお世話になっていました。しかし、さくらインターネットという日本のプロバイダーがGPUを提供を始め、コストパフォーマンスでかなり魅力的なプランがありました。コスト的にAWSより格安なのですが、高性能を求めるなら、AWSのK80が8個<a href="#note2"><sup>2</sup></a>のインスタンスはかなり有力です。それにAWSには年ごと課金のプランがあり、長く使えば他のプランよりは安くなるらしいです。そのままAWSでいいか、それともさくらとかに乗り換えた方がいいかと私たちは悩みました。</p>
<p>
    また、マイクロソフトのAzureクラウドはGPUの性能でさくらと同程度で、CPUの高性能のインスタンスがあり、コスト的にもさくらと同レベルです。さらにマクロソフトの独自の機械学習フレームワークAzure Machine Learning Studioが使えるという魅力があります。
</p>
<p>
    アメリカ大手クラウドプロバイダーの中でGoogleは最後にCompute CloudでGPUインスタンスの提供を始めました。性能的にもコスト的にもマイクロソフトと同レベルですが、インスタンスのスペックを細かく設定できるのはGoogleの魅了です。
</p>
<p>    
    他に記述したいプロバイダーは2つあります。LeaderTelecomというドイツのプロバイダーですが、GPU的に高性能のインスタンスを割安で提供しています。CPUの性能も高そうだが、メモリー量は128GBまでで低めのスペックです。IBMのクラウドプロバイダーSoftlayerは、P40が8個とQuadro P6000が8個の、GPU性能で最高のインスタンスを提供しています。
</p>
<p>
    一般的なクラウドプロバイダーではないのですが、東京大学はGPUが乗っているスパーコンピュータReedbush-Hを、教育機関はもちろんのこと、一般企業にも審査が通った用途に提供しています。GPUの性能では目立たないスペックなのですが、CPU性能やインターコネクト幅などで最高標準です。値段も割安なので、審査さえクリアできれば、最高のコストパフォマンスのクラウドGPUを利用できます。ただ、一つ注意すべきところがあり、スーパーコンピューターは全てのノードのソフトウェア環境が同じであり、root権限も与えられないので、管理者がインストールした以外のソフトウェアは、インストールできないかもしれません。もう一つの注意点としては、1年間のプランなのですが、使用できるノード時間が限られています。ずっと計算しっぱなしにすると1年間足らずでノード時間がなくなってしまい、計算するには追加料金かかってしまいます。<a href="http://www.cc.u-tokyo.ac.jp/support/application/kitei/hyou5.pdf" target="_blank">東京大学のウエブサイト</a>の備考をよく読んでください。
</p>

<note>    
<sup id="note1">1</sup> インスタンスはクラウドコンピューティングで仮想マシーンに割り当てられるハードウェアのスペックのことを言います。
</note>

<note>    
<sup id="note2">2</sup> Amazon、MicrosoftとGoogleがK80のインスタンスを提供していますが、プロバイダーのウエブサイトなどで表示されているGPUの数に注意する必要があります。1枚のK80のカードには2個のTesla GK210 GPUが乗っており、プロバイダーが表示している数はGK210の数で、カードの枚数はその半分です。
</note>

</body>
</html>